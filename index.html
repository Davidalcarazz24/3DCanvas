<!DOCTYPE html>
<html lang="es">
  <head>
    <!-- Se define la codificación para que los acentos y caracteres especiales se vean bien -->
    <meta charset="utf-8" />

    <!-- Se ajusta el diseño para que sea responsive en móvil y en escritorio -->
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Este texto sale en la pestaña del navegador -->
    <title>David – Baile + 4 Cámaras</title>

    <!-- Se carga una hoja de estilos externa por si se quieren separar estilos del HTML -->
    <link rel="stylesheet" href="styles.css" />

    <style>
      /* Se fuerza que el documento ocupe toda la altura de la ventana */
      html,
      body {
        height: 100%;
        margin: 0; /* Se quita el margen por defecto para que no queden bordes raros */
      }

      body {
        overflow: hidden; /* Se evita el scroll para que el canvas sea a pantalla completa */
        background: #0b0f14; /* Fondo oscuro para que la escena destaque más */
        font-family: system-ui, Arial, sans-serif; /* Tipografía sencilla y legible */
      }

      #c {
        display: block; /* Se elimina el espacio inline típico del canvas */
        width: 100vw; /* Se estira a todo el ancho visible */
        height: 100vh; /* Se estira a toda la altura visible */
      }

      #ui {
        position: absolute; /* Se coloca por encima del canvas sin afectar al flujo */
        top: 16px; /* Separación desde arriba */
        left: 16px; /* Separación desde la izquierda */
        z-index: 10; /* Se asegura que los botones queden delante de la escena */
        padding: 12px 14px; /* Espacio interno para que no quede apretado */
        border-radius: 12px; /* Bordes redondeados estilo panel */
        background: rgba(0, 0, 0, 0.45); /* Fondo semi-transparente para leer sin tapar del todo */
        color: #fff; /* Texto en blanco para contraste */
        backdrop-filter: blur(6px); /* Efecto de desenfoque para que el panel se vea más “pro” */
        max-width: 420px; /* Se limita el ancho para que no ocupe media pantalla */
      }

      #ui h1 {
        margin: 0 0 10px; /* Se deja un poco de aire debajo del título */
        font-size: 16px; /* Tamaño compacto para el panel */
      }

      .row {
        display: flex; /* Se alinea el contenido en fila */
        gap: 8px; /* Separación entre botones */
        flex-wrap: wrap; /* Si no caben, se bajan a la siguiente línea */
        margin-bottom: 10px; /* Espacio inferior entre filas */
      }

      button {
        border: 0; /* Se quita el borde por defecto del navegador */
        padding: 8px 10px; /* Botón con tamaño cómodo para clicar */
        border-radius: 10px; /* Estética redondeada */
        cursor: pointer; /* Cursor de mano para indicar interacción */
        font-weight: 700; /* Se pone el texto un poco más marcado */
      }

      button:disabled {
        opacity: 0.6; /* Se nota que está desactivado sin desaparecer */
        cursor: not-allowed; /* Cursor que avisa de que no se puede pulsar */
      }

      .hint {
        margin: 0; /* Se evita margen extra que descoloque el panel */
        font-size: 12px; /* Texto pequeño tipo ayuda */
        opacity: 0.85; /* Un poco más suave para que no compita con los botones */
        line-height: 1.35; /* Se mejora la lectura en dos líneas si hiciera falta */
      }

      code {
        font-family: ui-monospace, SFMono-Regular, Menlo, monospace; /* Fuente monoespaciada para fragmentos de código */
        font-size: 11px; /* Tamaño discreto para no destacar demasiado */
      }
    </style>

    <!-- Se configura el importmap para usar módulos ES y cargar Three.js desde CDN -->
    <script type="importmap">
      {
        "imports": {
          "three": "https://cdn.jsdelivr.net/npm/three@0.161/build/three.module.js",
          "jsm/": "https://cdn.jsdelivr.net/npm/three@0.161/examples/jsm/"
        }
      }
    </script>
  </head>

  <body>
    <!-- Panel de interfaz: aquí se dejan los botones y la ayuda para manejar la cámara -->
    <div id="ui">
      <h1>David – Baile + 4 Cámaras</h1>

      <!-- Botón principal: empieza desactivado hasta que cargue la escena -->
      <div class="row">
        <button id="btnToggle" type="button" disabled>Cargando...</button>
      </div>

      <!-- Botones de cámara: también se bloquean al inicio para evitar clicks antes de tiempo -->
      <div class="row">
        <button id="camFront" type="button" disabled>Frente</button>
        <button id="camRight" type="button" disabled>Derecha</button>
        <button id="camLeft" type="button" disabled>Izquierda</button>
        <button id="camBack" type="button" disabled>Detrás</button>
      </div>

      <!-- Texto de ayuda rápido para los controles del ratón -->
      <p class="hint">
        Arrastra para rotar · Rueda para zoom
      </p>
    </div>

    <!-- Canvas donde se renderiza todo lo de Three.js -->
    <canvas id="c"></canvas>

    <!-- Se carga el JavaScript principal como módulo para poder usar imports -->
    <script type="module" src="main.js"></script>
  </body>
</html>
